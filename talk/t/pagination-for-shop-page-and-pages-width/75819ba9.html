---
---
<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from talk.cregox.com/t/pagination-for-shop-page-and-pages-width/7581?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Jun 2017 00:09:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Pagination for shop page and pages width - support - cregox talk</title>
    <meta name="description" content="">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta2 - https://github.com/discourse/discourse version c5f42f0e97b27bacd24d07c3180f9b485880e2fc">
<link rel="icon" type="image/png" href="../../uploads/default/26/774ff9172e02cb85.png">
<link rel="apple-touch-icon" type="image/png" href="../../images/default-apple-touch-icon.png">
<meta name="theme-color" content="#bbb">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="75819ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://talk.cregox.com","potentialAction":{"@type":"SearchAction","target":"http://talk.cregox.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="cregox talk Search">

        <link href="http://talk-cdn.cregox.com/stylesheets/desktop_8_f58085d5ffeacb0f93c17151285d038856ae1056.css?__ws=talk.cregox.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-4687862-9', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Pagination for shop page and pages width&#39;" href="7581.rss" />
  <meta property="og:site_name" content="cregox talk" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="/images/default-apple-touch-icon.png" />
<meta property="og:image" content="/images/default-apple-touch-icon.png" />
<meta property="og:url" content="http://talk.cregox.com/t/pagination-for-shop-page-and-pages-width/7581?page=3" />
<meta name="twitter:url" content="http://talk.cregox.com/t/pagination-for-shop-page-and-pages-width/7581?page=3" />
<meta property="og:title" content="Pagination for shop page and pages width" />
<meta name="twitter:title" content="Pagination for shop page and pages width" />
<meta property="og:description" content="Sounds great!" />
<meta name="twitter:description" content="Sounds great!" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="21 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="4 ❤" />

      <link rel="prev" href="75814658.html?page=2">
      <link rel="next" href="7581fdb0.html?page=4">

  </head>
  <body class="crawler">
    <div class="main-nav" style="display:none;">
    <nav class="container">
        <ul class="cf">
            <li><a href="http://cregox.com/"><span>Home</span></a></li>
            <li><a href="http://cregox.com/your-home"><span>Your Home</span></a></li>
            <li><a href="http://cregox.com/about"><span>About / contact</span></a></li>
            <li><a href="../../c/blog/index.html"><span>Blog</span></a></li>
            <li><a href="http://cregox.com/pay"><span>Pay</span></a></li>
        </ul>
    </nav>
</div>

    <header>
      <a href="../../index.html"><img src="../../uploads/default/27/53dfb23e5e9d05d0.png" alt="cregox talk" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="7581.html">Pagination for shop page and pages width</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/support.html" itemprop="url">
        <span itemprop="title">support</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-22T18:06:18Z' itemprop='datePublished'>
             2015-05-22 18:06:18 UTC
           </time>
        </span>
        <span itemprop='position'>#41</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sounds great!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-22T21:31:37Z' itemprop='datePublished'>
             2015-05-22 21:31:37 UTC
           </time>
        </span>
        <span itemprop='position'>#42</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So, I didn't even needed to resolve the width bug. Looks like this bug is on masonry because once I enforced some widths to make it into 3 columns it just went away (along with the side shifting).</p>

<p>I believe all the rest is <a href="https://github.com/cauerego/cregox-scripts/commits/master/squarespace/endless scrolling">done and all bugs gone</a>! But I'll only be able to test on iPad later on, maybe tomorrow.</p>

<p>Let me know if you need me to record a short video to show you what have been done.</p>

<p>There are a few things needed to <a href="https://github.com/cauerego/cregox-scripts/tree/master/squarespace/endless scrolling">recreate it from scratch</a>, if needed (right now you could just use the <code>new-shop</code> page straight on):</p>

<p>1) A page with a <strong>grid summary block</strong> inside and displaying <strong>thumbnail</strong> and <strong>price</strong> only (haven't even tested with other options). Column width here won't matter. Paging will be based on the <strong>number of items</strong> (currently set to 12).</p>

<p>2) That page also need to have an animated GIF with the loading image, and a <strong>clickthrough URL</strong> link to <code>javascript:endlessScrollingLoading();</code></p>

<p>3) Still on the same page, copy and paste <a href="https://github.com/cauerego/cregox-scripts/blob/e2b9964cfd4d4be765190c4c25e3ccabf095654b/squarespace/endless scrolling/endless-scrolling.html">the script</a> to that page's <strong>advanced settings</strong>, under <strong>page header code injection</strong> (<em>for future reference, keep in mind the version pasted below might be outdated</em>):</p>

<p></p><pre><code class="lang-auto">&lt;script src="http://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.0/masonry.pkgd.min.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.rawgit.com/desandro/imagesloaded/master/imagesloaded.pkgd.min.js"&gt;&lt;/script&gt;
&lt;script name="endless scrolling" author="cregox.com"&gt;
  // mostly based on script from foley at http://answers.squarespace.com/questions/17153/how-can-i-create-an-infinite-scroll-blog-on-the-developer-platform

  Y.use('node', function()
  {
    Y.on('domready', function()
    {
      Y.one('main#main').addClass('endless-scrolling');

      // prevent script from running in squarespace editor
      if (window.top.document !== window.document) return;

      // config
      var loadingMargin = 500; //px
      var parent = 'main#main .wrapper';
      var list = '.summary-item-list';
      var post = '.summary-item';

      // private
      var jsonCachedRequest = null;
      var YparentToAppend;
      var YnewItemsToClone;
      var pageSize = 0;
      var pageIndex = 1;
      var totalItemsCount = 0;// Static.SQUARESPACE_CONTEXT.collection.itemCount;
      var execute;
      var urlQuery = window.location.pathname;
      var stuffBottom;
      var currentItemsCount;
      var YloadingIcon;
      var msnry;
      var YnewItems;

      YparentToAppend = Y.one(parent).one('div');
      cacheAjaxRequest();

      setMouseHover(YparentToAppend);

      YloadingIcon = Y.one('a[href^="javascript:endlessScrollingLoading"]');

      // while there's no proper function to go back to a specific item, this should let the browser do the trick
      YparentToAppend.all('.summary-item a').set('target', '_blank');
      
      // basically all styles set in this whole script need to be set here
      // to overwrite styles already set on the element before this
      YparentToAppend.all('.summary-item').setStyle('width', 'initial');
      
      YloadingIcon.one('img').setStyles({
        'top': 'initial',
        'bottom': 0,
        'left': 'initial',
        'right': 'initial',
        'width': 'initial',
        'height': 'initial',
        'position': 'initial'
      }).addClass('endless-loading').get('parentNode').setStyle('text-align', 'center');
      YloadingIcon.one('div.image-block-wrapper').setStyle('padding-bottom', 0);
      Y.one(parent).append(YloadingIcon);
      
      YnewItemsToClone = YparentToAppend.one('.summary-item-list').cloneNode(true);
      YnewItemsToClone.hide();
      pageSize = YnewItemsToClone.all('.summary-item').size();

      Y.one(parent).setStyles({
        'background-color': '#e8edf3',
        'padding': '2em'
      });
      Y.one('footer#footer').hide().setStyles({
        'position': 'absolute',
        'bottom': 0,
        'left': '10px',
        'right': '10px'
      });

      loadMasonry(); loadMasonry(); // loading twice just works

      Y.on('scroll', function()
      {
        if (currentItemsCount &gt;= totalItemsCount &amp;&amp; execute === true)
        {
          YloadingIcon.remove(true);
          Y.one('footer#footer').show();
          execute = false;
        }
        else
        {
          var spaceHeight = document.documentElement.clientHeight + window.scrollY;

          // measures distance from page top to content bottom
          // should be less than scrollY position
          if (spaceHeight + loadingMargin &gt;= stuffBottom &amp;&amp; execute === true)
          {
            // prevents scroll listener from firing too often
            execute = false;

            createPage();

            loadMasonry(); loadMasonry(); // loading twice just works
          } // if bottom
        } // else execute
      }); // Y on scroll

      function loadMasonry ()
      {
        var container = document.querySelector(list);
        msnry = new Masonry( container,
        {
          'transitionDuration': 0,
          'gutter': 15,
          'itemSelector': '.summary-item',
          'isInitLayour': false
        });
        
        msnry.on( 'layoutComplete', function( laidOutItems )
        {
          if (YnewItems) YnewItems.show();
          resetScrollingVars();
          return true; // listen to event only once
        });
        imagesLoaded( container, function()
        {
          msnry.layout();
        });
      }

      function resetScrollingVars ()
      {
        Y.one('body').simulate('resize'); // adjust items in the columns
        
        stuffBottom = Y.one(parent).get('clientHeight') + Y.one(parent).getY();
        currentItemsCount = Y.all(post).size();
        execute = true;
      }

      function createPage ()
      {
        if (jsonCachedRequest === null) return;

        pageIndex++;

        var json = jsonCachedRequest;
        var YnewItemsToDelete = YnewItemsToClone.cloneNode(true);

        YnewItemsToDelete.all('img').setStyle('opacity', 1);
        YnewItems = YnewItemsToDelete.all('.summary-item').hide();

        for (var i = pageSize - 1; i &gt;= 0; i--)
        {
          var j = (pageIndex - 1) * pageSize + i;
          if (j &gt;= totalItemsCount)
          {
            YnewItems.item(i).hide().empty().remove(true);
            YnewItems.pop(i);
          }
          else
          {
            YnewItems.item(i).one('a').set('href', json.items[j].fullUrl);
            YnewItems.item(i).one('img').set('src', json.items[j].assetUrl);
            YnewItems.item(i).one('.product-price span').setContent(
              (json.items[j].variants[0].price / 100).toFixed(2)
            );
          }
        }

        setMouseHover(YnewItemsToDelete);
        YparentToAppend.one('.summary-item-list').append(YnewItems);
        YnewItemsToDelete.remove(true);
      } // function createPage

      function cacheAjaxRequest ()
      {
        if (jsonCachedRequest === null)
        {
          // ajax request
          Y.io('/shop?format=json', {
            on: {
              success: function (x, o) {
                try {
                  json = Y.JSON.parse(o.responseText);
                } catch (e) {
                  console.log("JSON Parse failed!");
                  return;
                }

                jsonCachedRequest = json;
                totalItemsCount = json.items.length;
                resetScrollingVars();
              }
            }
          });
        }
      } // function cachedAjaxRequest

      function setMouseHover (Ynode)
      {
        Ynode.all('.summary-item img').on('mouseenter', function(e)
        {
          e.currentTarget.transition(
            {
              duration:0.5,
              opacity:0.5
            });
        });
        Ynode.all('.summary-item img').on('mouseleave', function(e)
        {
          e.currentTarget.transition(
            {
              duration:0.5,
              opacity:1
            });
        });
      } // function setMouseHover

    }); // Y on DOMready
  }); // Y use node
&lt;/script&gt;</code></pre>

<p>4) Copy and paste <a href="https://github.com/cauerego/cregox-scripts/blob/e2b9964cfd4d4be765190c4c25e3ccabf095654b/squarespace/endless scrolling/endless-scrolling.less">the LESS / CSS</a> into Custom CSS (<em>again, for future reference, keep in mind the version pasted below might be outdated</em>):</p>

<p></p><pre><code class="lang-auto">// endless scrolling by cregox.com
body main#main {
  width: ~'calc(100% - 240px)';
}

main#main.endless-scrolling {
  .summary-item {
    margin: 0 !important;
    width: ~'calc(33.33% - 10px)' !important; // 3 columns
    @media screen {
      @media (max-width: 880px) { // switch
        width: ~'calc(50% - 8px)' !important; // 2 columns
      }
      @media (max-width: 550px) { //switch
        width: 100% !important; // 1 column
      }
    }
  }
  .summary-thumbnail.img-wrapper {
    padding-bottom: 0 !important;
    img {
      background-color: rgba(17,17,17,.05);
      position: initial !important;
      width: 100% !important;
      height: auto !important;
    }
  }
  .summary-price .product-price {
    position: absolute;
    bottom: 1em;
    right: 0;
    padding: 1em;
    span {
      font-size: 1em;
    }
  }
  @media screen and (max-width: 1024px) {
    width: 100%;
    div.wrapper&gt;div {
      padding-top: 2em;
      height: 100%;
    }
  }
}</code></pre>

<p>5) Tweak the CSS at your will, and have fun! <img src="http://talk-cdn.cregox.com/images/emoji/emoji_one/yum.png?v=0" title=":yum:" class="emoji" alt="yum" width="64" height="64"> </p>

<p>You may have noticed I've replaced the previous <code>width: 80%</code> css by this more complete <code>calc</code> solution, which is also important to help fixing a (now old) issue with the new shop width.</p>

<p>On a side note, I would keep and use the current <code>shop</code> as a <em>print page</em>, which will load all items at once. That can be useful eventually.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-22T23:38:00Z' itemprop='datePublished'>
             2015-05-22 23:38:00 UTC
           </time>
        </span>
        <span itemprop='position'>#43</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The new-shop is looking really good. I'm sure I will need a video, I don't understand most of what you are telling me above. </p>

<p>I also don't understand how to implement the 'new-shop' into being the SHOP. Will the current shop need to remain somewhere? I noticed when you click on a product in the new-shop it seems to take you to the current shop. That is not how it will work once the new-shop is the main shop...correct?</p>

<p>I would like the functionality to be the same as the current shop, when you click on the product thumbnail you go to the product page within the site, not jump to another window.</p>

<p>I am not worried about anyone needing to print the shop.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-23T01:15:32Z' itemprop='datePublished'>
             2015-05-23 01:15:32 UTC
           </time>
        </span>
        <span itemprop='position'>#44</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It is looking really good, isn't it? I liked it too. <img src="http://talk-cdn.cregox.com/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt="smile" width="64" height="64"></p>

<p>I'll make the video tomorrow, no problem.</p>

<p>The "print function" wouldn't be just for printing... For one, it could be a good use for someone with a desktop and fast connection who are used with the shop the way it is. It's also a good use along with <a href="http://getpocket.com/">pocket</a>, for another instance. I personally would prefer using the "pageless function", how it could also be called. But that's not such a big deal, and it would be easy to implement / remove in a matter of couple minutes.</p>

<p>I removed the "opening in new window", it's just a matter of commenting out this line:</p>

<pre><code>  // while there's no proper function to go back to a specific item, this should let the browser do the trick
  YparentToAppend.all('.summary-item a').set('target', '_blank');</code></pre>

<p>But that was there on purpose because I won't be able to implement the coming back to the same page. I'll show you on the video. Although, now I realize, looks like it's a functionality you might not even have been aware that existed before...</p>

<p>I must admit I haven't noticed there was a <code>&lt; SHOP</code> button there leading to <code>/shop</code>, even while we're at the <code>/new-shop</code>. That's fairly simple to fix, but then when we go to <code>/shop</code> the reverse will happen: it'll lead to <code>/new-shop</code>.</p>

<p>Anyway, we could schedule a skype meeting for you to feel safer while I release it all as the official shop, we fix anything on the spot if something comes up, and we finish it up! How does this sound?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-23T19:40:56Z' itemprop='datePublished'>
             2015-05-23 19:40:56 UTC
           </time>
        </span>
        <span itemprop='position'>#45</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yes, it looks good. it sounds like you can take care of the things i asked about. please send the video and i will watch to see if i understand. after that perhaps we can schedule a skype meeting. thanks</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-23T19:44:32Z' itemprop='datePublished'>
             2015-05-23 19:44:32 UTC
           </time>
        </span>
        <span itemprop='position'>#46</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>when you click on a product page from the shop, then click back to the shop will you always default to the top of the shop page? i like it when you click back and land where you were before. how will it work in the new-shop?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-23T20:10:06Z' itemprop='datePublished'>
             2015-05-23 20:10:06 UTC
           </time>
        </span>
        <span itemprop='position'>#47</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What you call "going back always default to the top" is what I've been trying to tell you. <img src="http://talk-cdn.cregox.com/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt="smile" width="64" height="64"></p>

<aside class="quote" data-post="26" data-topic="7581"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="http://talk-cdn.cregox.com/user_avatar/talk.cregox.com/cawas/40/60.png" class="avatar">Cawas:</div>
<blockquote><p>(later) enable come back to the same page</p></blockquote></aside>

<aside class="quote" data-post="29" data-topic="7581"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="http://talk-cdn.cregox.com/user_avatar/talk.cregox.com/cawas/40/60.png" class="avatar">Cawas:</div>
<blockquote>
<p>the "enabling to come back to the same page" I meant as if each auto loaded "page" was an actual page and then, if you click on an item, when you press back you can get back to that same "page" and see the item on the whole listing.</p>
<p>I figured an easier way to get a similar behaviour and we'll go with that, so I'm not going to implement it the way I had envisioned (which is like it's done on discourse) this time. It will simply open products in a new tab.</p>
</blockquote></aside>

<aside class="quote" data-post="30" data-topic="7581"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="http://talk-cdn.cregox.com/user_avatar/talk.cregox.com/cawas/40/60.png" class="avatar">Cawas:</div>
<blockquote><p>There's also a minor bug when going back or reloading the page, which would be surprisingly quite hard to fix. I'll let that slide for now.</p></blockquote></aside>

<aside class="quote" data-post="44" data-topic="7581"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="http://talk-cdn.cregox.com/user_avatar/talk.cregox.com/cawas/40/60.png" class="avatar">Cawas:</div>
<blockquote><p>But that was there on purpose because I won't be able to implement the coming back to the same page. I'll show you on the video. Although, now I realize, looks like it's a functionality you might not even have been aware that existed before...</p></blockquote></aside>

<p>This is way, <strong>way more complicated</strong> than it may look like. It's also something some browsers do and others don't (coincidentally, I've noticed at least Safari on iPad is actually already working out of the box). While I do want to implement it into the general solution I certainly won't be able to do it so soon. I can only ask you to wait for that future and/or take the new tab temporary solution.</p>

<p>As for the video, I'm running into some technical issues with making it today. I may not be able to do it before Monday.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-23T20:21:50Z' itemprop='datePublished'>
             2015-05-23 20:21:50 UTC
           </time>
        </span>
        <span itemprop='position'>#48</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>monday is fine for the video. i am going to re-read your messages and see if i can more clearly understand : )</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-23T23:04:56Z' itemprop='datePublished'>
             2015-05-23 23:04:56 UTC
           </time>
        </span>
        <span itemprop='position'>#49</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Video done:</p>

<div class="lazyYT" data-youtube-id="o6Nu5jkNrOo" data-youtube-title="Cass Estes - outsyled endles scrolling" data-width="480" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque"></div>

<p>The <a href="https://github.com/cauerego/cregox-scripts/commit/819a753314a5f35c53881d1e4e40610eaca0fbc7">last piece of code</a> needed to get on the shop page and fix the product item <code>&lt; SHOP</code> "back" button is simplified below (to allow making the print link):</p>

<p></p><pre><code class="lang-auto">&lt;script name="endless scrolling" author="cregox.com"&gt;
  Y.use('node', function()
  {
    Y.on('domready', function()
    {
      Y.all('a[href$="/shop/"]').set('href', '/new-shop/');
    });
  });
&lt;/script&gt;</code></pre>

<p>Keep in mind the scripts have a few lines that rely on both <code>/shop</code> and <code>/new-shop</code> page names, or <strong>URL Slug</strong> as it's called under page settings. If you rename any of the two pages, please remember to rename it there in the code too. Fortunately that shouldn't happen that often!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-25T03:54:17Z' itemprop='datePublished'>
             2015-05-25 03:54:17 UTC
           </time>
        </span>
        <span itemprop='position'>#50</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I noticed on my iphone and ipad that i can look at a product page then go back to where i was in the new-shop with the back button. It works perfectly as long as i don't hit the 'shop' link at the top of the text on the product page. when i try it on my laptop there seems to either be a loading delay or page does not finish loading. i also noticed sometimes when i hit the back button i land at the top of the shop page. is there a way to fix this? i do not want the product page to open in a separate tab. from your video is sounded like it would be very difficult or time intensive to fix. why is it working fine on my iphone and ipad, but not on my laptop? thanks</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-25T15:28:19Z' itemprop='datePublished'>
             2015-05-25 15:28:19 UTC
           </time>
        </span>
        <span itemprop='position'>#51</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, the <code>&lt; SHOP</code> link at the top would have this exact same issue on the old shop. And most dynamic webpages are and always were like that. Stateless. Navigating back and forward will break each history page state, especially by using the browser history navigation.</p>

<p>That's why some browsers try to solve that issue.</p>

<p><strong>iOS Safari</strong>'s have an awesome persistent caching that the desktop or any <strong>Chrome</strong> doesn't. Some developers even think <a href="http://stackoverflow.com/questions/11979156/mobile-safari-back-button">that's a problem</a>, I consider it quite an awesome feature. <strong>Opera</strong> is another browser which used to have this feature and it was blazing fast but now it's the same. <strong>Firefox</strong>, for another instance, have it all different. It will cache the DOM, but not the images so it looks like it's reloading everything while it's just loading the images and the page rendering. <strong>Tor</strong> have the same feature as firefox but it loads so fast that it looks like iOS Safari.</p>

<p>Back to the <code>&lt; SHOP</code> link issue, you may notice it's not the same function as pressing back on the browser. If you do press on the link, you'll see you can use the history back to go back to the product and then again to go back even further to the previous page, which coincidentally is the same link. Coincidentally.</p>

<p>In any case, we'll leave it not open in a separate tab (I also hate that in fact) and as I meant/told you before, when I get the time I'll continue improving the endless scrolling as my own investment. When I do, I update it for you.</p>

<p>And <strong>then</strong> even the shop link will work as a much better back button there! You see, if you open a new TAB and paste straight on an item address on the URL (such as <a href="http://www.outstyled.com/shop/patagonia-black-hole-25l-backpack">this</a>), you can't go back to the shop without that link. <img src="http://talk-cdn.cregox.com/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt="wink" width="20" height="20"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-27T01:55:17Z' itemprop='datePublished'>
             2015-05-27 01:55:17 UTC
           </time>
        </span>
        <span itemprop='position'>#52</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I appreciate your effort to create a work around. At this point I am ready to have our shop function differently that most shops out there. I am considering switching to a template that paginates, like Galapagos. Since I don't think the template allows me to choose how many products to show on each page...is that something you could fix without altering any other function/look of the template?</p>

<p>I really liked the idea of dynamic loading, but losing the history of the main shop page and/or opening a separate tab are not options I want. I really want the shop to function like it does currently.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-27T03:11:17Z' itemprop='datePublished'>
             2015-05-27 03:11:17 UTC
           </time>
        </span>
        <span itemprop='position'>#53</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I actually just had an idea, but even this I initially thought would be simple, just <a href="https://github.com/cauerego/cregox-scripts/commit/9b3a3afe2d23acfb29c5e8e44329367a8770f366">was not</a>.</p>

<p>You can see the idea implemented <a href="http://www.outstyled.com/new-shop/">there</a> right now. It's basically making a huge height so the browser can scroll down. The problem is the loading was already not working expecting for this, so it needed some tweaks to consider it. And when I've done then, I found some very weird bugs... Sometimes coding can become a real pain!</p>

<p>I've seen many endless scrolls implemented, but none as interesting as on google images, I just noticed (which hinted me the idea). Most of other infinite paging even on google can't go back as well. Ideally an endless scroll would be a mix of that with this of discourse here.</p>

<p>If you scroll down on google images, click an image and go back, it will just work. That's because it loads up the full page height before the images, just so the browser can do its magic. But if you scroll down, copy the link and paste it anywhere else, it won't work. Here in discourse it will. And so would in my next implementation...</p>

<p>I'm all forward for finding an easy solution or a simple fix that works for you here, but I don't think there is any. At this point, I'm willing to just give your money back if you're unable to wait more.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
            <a href="../quote-for-functionality-in-squarespace-website/7639/4.html">Quote for functionality in Squarespace Website</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-28T17:10:53Z' itemprop='datePublished'>
             2015-05-28 17:10:53 UTC
           </time>
        </span>
        <span itemprop='position'>#54</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, I got some time off today to focus on this and <a href="https://github.com/cauerego/cregox-scripts/commits/master/squarespace/endless scrolling">spent all morning</a> trying to resolve this. In the end it didn't work out... Slowly I ended coming up with <a href="https://github.com/cauerego/cregox-scripts/commit/d28ef57e3c5fd90812920aaf48192fc4bf39e546">this idea</a>, trying to use lazy loading instead of endless pagination. Two complete core rewrites. This last one (thanks to <a href="http://afarkas.github.io/lazysizes/">yet another web lib</a> now being used) made code smaller and it's <a href="https://github.com/cauerego/cregox-scripts/commit/d28ef57e3c5fd90812920aaf48192fc4bf39e546">almost <em>working perfectly</em> now</a>!</p>

<p>Please, do take a look: <a href="http://www.outstyled.com/new-shop/">http://www.outstyled.com/new-shop/</a></p>

<p>As usual, I found a few bugs already (actually just on iPad safari and chrome), but please let me know if this is the right path, just to be sure before I try to fix those.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-29T00:06:47Z' itemprop='datePublished'>
             2015-05-29 00:06:47 UTC
           </time>
        </span>
        <span itemprop='position'>#55</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I whole heartedly appreciate the work you have done and would not ask for my money back. Your solutions have been very creative. At this point I still think switching to Galapagos might be our best option. This option will only work if you can alter the default number of products per page...is that possible? </p>

<p>I am concerned about the amount of custom code and bug fixing that is necessary to fix up Supply. I am not sure what will happen when SS updates their platform/templates. I am more comfortable with a solution that is simpler. I am hopeful that switching to Galapagos will be a simpler fix. Let me know what you think.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-29T00:34:15Z' itemprop='datePublished'>
             2015-05-29 00:34:15 UTC
           </time>
        </span>
        <span itemprop='position'>#56</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, I suppose you can wait then, right? Because I can't keep giving priority to this. My quote was completely off the mark and I'm not even working with that model anymore ( I've updated <a href="http://www.cregox.com/your-home">www.cregox.com/your-home</a> ).</p>

<aside class="quote" data-post="55" data-topic="7581"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="http://talk-cdn.cregox.com/letter_avatar/outstyledonline/40/3_64b268823de25c3c4365087b878b9ba2.png" class="avatar">outstyledonline:</div>
<blockquote><p>alter the default number of products per page...is that possible?</p></blockquote></aside>

<p>I don't know. Probably not. I'd have to dig deeper. If you want to switch templates, though, might worth it much more going with developer platform. It's way easier to customize things there.</p>

<p>I do give lifetime support for bug fixes and 2 years of updates (I should state that on the site), so those shouldn't worry you that much.</p>

<p>We came so close to a nice solution. You didn't say anything about this last one. I wouldn't like going back to a old style pagination, I've always found it quite dreadful...</p>

<p>I'd like to know what you think of how it is currently. At least on my desktop chrome it seems to be already working perfectly fine. The code is also cleaner, so fixing the bugs on mobile (and now I noticed, desktop safari as well) shouldn't take much longer.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-29T03:30:02Z' itemprop='datePublished'>
             2015-05-29 03:30:02 UTC
           </time>
        </span>
        <span itemprop='position'>#57</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I looked at the latest new-shop on my desktop and did not love the initial loading sequence. It looked like every product page was stacked on top of each other, but when it was finally done it looked nice. It also gets blurry when I scroll down the page. The page history worked well when I used the back arrow. </p>

<p>Do you think we should continue with Supply and not switch to Galapagos? You are the expert.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-29T10:15:43Z' itemprop='datePublished'>
             2015-05-29 10:15:43 UTC
           </time>
        </span>
        <span itemprop='position'>#58</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>On a better thought, how about this: I'll just give up on making this a job (saying this because I'm not sure you've read my edit there). I could eventually take a project like this and turn it into my own featured open source project. From the past 6 months, I can't remember a single job that required to build something to <strong>fix a completely broken behaviour</strong> on squarespace.</p>

<p>I guess that's why I was already so dragged into this to begin with anyway! <img src="http://talk-cdn.cregox.com/images/emoji/emoji_one/stuck_out_tongue_winking_eye.png?v=0" title=":stuck_out_tongue_winking_eye:" class="emoji" alt="stuck_out_tongue_winking_eye" width="20" height="20"></p>

<p>What matters most to you from my decision there is I'll try to focus more on it and probably end up much earlier than if I kept my previous mindset.</p>

<p>So...</p>

<p>I've fixed (actually hide) the loading sequence (which was one bug I had seen, just not on my chrome), and I can remove the "blurred" images (actually low resolution ones) if you insist. But keep in mind Google just release a <a>new photos</a> on Google I/O just yesterday and coincidentally that blurring is one nice feature it has!</p>

<p>You see, loading quality images take resources. Loading smaller ones takes much much less, makes things faster. Instead of the low-res img I could put nothing or leave the product price there, but neither will look as cool as this. At least technically speaking. I'm not so much expert in designing arts and layout, but I can understand why you might not like this. <img src="http://talk-cdn.cregox.com/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt="smile" width="20" height="20"></p>

<p>Thanks to the lazy loading, I fairly easily implemented the paging number I've mentioned in the video and many times since the beginning. Then added that into the shop item page, so even the <code>&lt; BACK</code> button will go back to the proper scrolled place (once we implement it there).</p>

<p>Right now, I'm only missing reloading and 1 bug I can see only on mobile, which keeps scrolling back to top. I'm also still not satisfied with loading speed on my android, which maybe improved by removing the small res images after all. Only reason I haven't tried it yet is, as so many things here, it's not that simple. <img src="http://talk-cdn.cregox.com/images/emoji/emoji_one/stuck_out_tongue.png?v=0" title=":stuck_out_tongue:" class="emoji" alt="stuck_out_tongue" width="20" height="20"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/outstyledonline.html'><b itemprop='author'>outstyledonline</b></a>
           
           <time datetime='2015-05-29T17:15:48Z' itemprop='datePublished'>
             2015-05-29 17:15:48 UTC
           </time>
        </span>
        <span itemprop='position'>#59</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It sounds like you think we should continue fixing/debugging Supply. Not switch to Galapagos. Shall I get the Developer platform set up? If so, how do I do that?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/cregox.html'><b itemprop='author'>cregox</b></a>
           
           <time datetime='2015-05-29T19:26:49Z' itemprop='datePublished'>
             2015-05-29 19:26:49 UTC
           </time>
        </span>
        <span itemprop='position'>#60</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Fixing/debugging/improving. Mostly just been improving. I've mentioned the dev platform because you've mentioned switching. But I think right now switching templates would be unnecessary and have more overhead than benefits. And I can't seen to reproduce the bug anymore.</p>

<p>How do you like it now?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Pagination for shop page and pages width'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><a rel="prev" itemprop="name" href="75814658.html?page=2">← previous page</a></span>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="7581fdb0.html?page=4">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from talk.cregox.com/t/pagination-for-shop-page-and-pages-width/7581?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 18 Jun 2017 00:09:07 GMT -->
</html>
